{
  "_format": "hh-sol-artifact-1",
  "contractName": "MediTrust",
  "sourceName": "contracts/MediTrust.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "viewer",
          "type": "address"
        }
      ],
      "name": "AccessGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "viewer",
          "type": "address"
        }
      ],
      "name": "AccessRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "cid",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "RecordStored",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patient",
          "type": "address"
        }
      ],
      "name": "getRecords",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "patient",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "cid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct MediTrust.Record[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "patient",
          "type": "address"
        }
      ],
      "name": "getRecordsAuthorized",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "patient",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "cid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct MediTrust.Record[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "viewer",
          "type": "address"
        }
      ],
      "name": "grantReadAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "viewer",
          "type": "address"
        }
      ],
      "name": "hasReadAccess",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "viewer",
          "type": "address"
        }
      ],
      "name": "revokeReadAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_patient",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_cid",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_desc",
          "type": "string"
        }
      ],
      "name": "storeRecord",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610b70806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063425600b814610067578063a0076e841461007c578063b42e17fb146100a5578063e82d3cec146100b8578063f7ca0af0146100cb578063fe48c6b2146100de575b600080fd5b61007a610075366004610762565b61012a565b005b61008f61008a366004610762565b610180565b60405161009c91906107ca565b60405180910390f35b61007a6100b3366004610762565b610339565b61008f6100c6366004610762565b610392565b61007a6100d9366004610914565b6105b8565b61011a6100ec366004610988565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205460ff1690565b604051901515815260200161009c565b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19169055519092917f825c8be24eb0df19500f63e86c29e7d0d951e73056b889b891d85e40938d9b6e91a350565b6001600160a01b0381166000908152600160209081526040808320805482518185028101850190935280835260609492939192909184015b8282101561032e57600084815260209081902060408051608081019091526004850290910180546001600160a01b031682526001810180549293919291840191610201906109bb565b80601f016020809104026020016040519081016040528092919081815260200182805461022d906109bb565b801561027a5780601f1061024f5761010080835404028352916020019161027a565b820191906000526020600020905b81548152906001019060200180831161025d57829003601f168201915b50505050508152602001600282018054610293906109bb565b80601f01602080910402602001604051908101604052809291908181526020018280546102bf906109bb565b801561030c5780601f106102e15761010080835404028352916020019161030c565b820191906000526020600020905b8154815290600101906020018083116102ef57829003601f168201915b50505050508152602001600382015481525050815260200190600101906101b8565b505050509050919050565b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19166001179055519092917f9f520b3bfc56d06f7065d10b4683b3f57ac8895d5026cd176dee95ce1454cb8d91a350565b6060336001600160a01b03831614806103ce57506001600160a01b038216600090815260026020908152604080832033845290915290205460ff165b61040f5760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5e995960921b604482015260640160405180910390fd5b6001600160a01b038216600090815260016020908152604080832080548251818502810185019093528083529193909284015b8282101561032e57600084815260209081902060408051608081019091526004850290910180546001600160a01b03168252600181018054929391929184019161048b906109bb565b80601f01602080910402602001604051908101604052809291908181526020018280546104b7906109bb565b80156105045780601f106104d957610100808354040283529160200191610504565b820191906000526020600020905b8154815290600101906020018083116104e757829003601f168201915b5050505050815260200160028201805461051d906109bb565b80601f0160208091040260200160405190810160405280929190818152602001828054610549906109bb565b80156105965780601f1061056b57610100808354040283529160200191610596565b820191906000526020600020905b81548152906001019060200180831161057957829003601f168201915b5050505050815260200160038201548152505081526020019060010190610442565b604080516080810182526001600160a01b038581168083526020808401878152848601879052426060860152600092835260018083529583208054808801825590845291909220845160049092020180546001600160a01b0319169190931617825551919283929082019061062d9082610a44565b50604082015160028201906106429082610a44565b50606091909101516003909101556000805460018101825590805281517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563600490920291820180546001600160a01b0319166001600160a01b03909216919091178155602083015183927f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56401906106d99082610a44565b50604082015160028201906106ee9082610a44565b50606082015181600301555050836001600160a01b03167f2f476d5c183b5f6db52b986731f160de20d40d82c9f688c3d78442a090a4fea884844260405161073893929190610b04565b60405180910390a250505050565b80356001600160a01b038116811461075d57600080fd5b919050565b60006020828403121561077457600080fd5b61077d82610746565b9392505050565b6000815180845260005b818110156107aa5760208185018101518683018201520161078e565b506000602082860101526020601f19601f83011685010191505092915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b8381101561086357888303603f19018552815180516001600160a01b031684528781015160808986018190529061082a82870182610784565b91505087820151858203898701526108428282610784565b606093840151969093019590955250948701949250908601906001016107f1565b509098975050505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261089857600080fd5b813567ffffffffffffffff808211156108b3576108b3610871565b604051601f8301601f19908116603f011681019082821181831017156108db576108db610871565b816040528381528660208588010111156108f457600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561092957600080fd5b61093284610746565b9250602084013567ffffffffffffffff8082111561094f57600080fd5b61095b87838801610887565b9350604086013591508082111561097157600080fd5b5061097e86828701610887565b9150509250925092565b6000806040838503121561099b57600080fd5b6109a483610746565b91506109b260208401610746565b90509250929050565b600181811c908216806109cf57607f821691505b6020821081036109ef57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610a3f57600081815260208120601f850160051c81016020861015610a1c5750805b601f850160051c820191505b81811015610a3b57828155600101610a28565b5050505b505050565b815167ffffffffffffffff811115610a5e57610a5e610871565b610a7281610a6c84546109bb565b846109f5565b602080601f831160018114610aa75760008415610a8f5750858301515b600019600386901b1c1916600185901b178555610a3b565b600085815260208120601f198616915b82811015610ad657888601518255948401946001909101908401610ab7565b5085821015610af45787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b606081526000610b176060830186610784565b8281036020840152610b298186610784565b91505082604083015294935050505056fea26469706673582212202528b407ecd37da9efaa9079a20ffd601646acd64ef3b4123eaa873782234fb064736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c8063425600b814610067578063a0076e841461007c578063b42e17fb146100a5578063e82d3cec146100b8578063f7ca0af0146100cb578063fe48c6b2146100de575b600080fd5b61007a610075366004610762565b61012a565b005b61008f61008a366004610762565b610180565b60405161009c91906107ca565b60405180910390f35b61007a6100b3366004610762565b610339565b61008f6100c6366004610762565b610392565b61007a6100d9366004610914565b6105b8565b61011a6100ec366004610988565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205460ff1690565b604051901515815260200161009c565b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19169055519092917f825c8be24eb0df19500f63e86c29e7d0d951e73056b889b891d85e40938d9b6e91a350565b6001600160a01b0381166000908152600160209081526040808320805482518185028101850190935280835260609492939192909184015b8282101561032e57600084815260209081902060408051608081019091526004850290910180546001600160a01b031682526001810180549293919291840191610201906109bb565b80601f016020809104026020016040519081016040528092919081815260200182805461022d906109bb565b801561027a5780601f1061024f5761010080835404028352916020019161027a565b820191906000526020600020905b81548152906001019060200180831161025d57829003601f168201915b50505050508152602001600282018054610293906109bb565b80601f01602080910402602001604051908101604052809291908181526020018280546102bf906109bb565b801561030c5780601f106102e15761010080835404028352916020019161030c565b820191906000526020600020905b8154815290600101906020018083116102ef57829003601f168201915b50505050508152602001600382015481525050815260200190600101906101b8565b505050509050919050565b3360008181526002602090815260408083206001600160a01b0386168085529252808320805460ff19166001179055519092917f9f520b3bfc56d06f7065d10b4683b3f57ac8895d5026cd176dee95ce1454cb8d91a350565b6060336001600160a01b03831614806103ce57506001600160a01b038216600090815260026020908152604080832033845290915290205460ff165b61040f5760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5e995960921b604482015260640160405180910390fd5b6001600160a01b038216600090815260016020908152604080832080548251818502810185019093528083529193909284015b8282101561032e57600084815260209081902060408051608081019091526004850290910180546001600160a01b03168252600181018054929391929184019161048b906109bb565b80601f01602080910402602001604051908101604052809291908181526020018280546104b7906109bb565b80156105045780601f106104d957610100808354040283529160200191610504565b820191906000526020600020905b8154815290600101906020018083116104e757829003601f168201915b5050505050815260200160028201805461051d906109bb565b80601f0160208091040260200160405190810160405280929190818152602001828054610549906109bb565b80156105965780601f1061056b57610100808354040283529160200191610596565b820191906000526020600020905b81548152906001019060200180831161057957829003601f168201915b5050505050815260200160038201548152505081526020019060010190610442565b604080516080810182526001600160a01b038581168083526020808401878152848601879052426060860152600092835260018083529583208054808801825590845291909220845160049092020180546001600160a01b0319169190931617825551919283929082019061062d9082610a44565b50604082015160028201906106429082610a44565b50606091909101516003909101556000805460018101825590805281517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563600490920291820180546001600160a01b0319166001600160a01b03909216919091178155602083015183927f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56401906106d99082610a44565b50604082015160028201906106ee9082610a44565b50606082015181600301555050836001600160a01b03167f2f476d5c183b5f6db52b986731f160de20d40d82c9f688c3d78442a090a4fea884844260405161073893929190610b04565b60405180910390a250505050565b80356001600160a01b038116811461075d57600080fd5b919050565b60006020828403121561077457600080fd5b61077d82610746565b9392505050565b6000815180845260005b818110156107aa5760208185018101518683018201520161078e565b506000602082860101526020601f19601f83011685010191505092915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b8381101561086357888303603f19018552815180516001600160a01b031684528781015160808986018190529061082a82870182610784565b91505087820151858203898701526108428282610784565b606093840151969093019590955250948701949250908601906001016107f1565b509098975050505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261089857600080fd5b813567ffffffffffffffff808211156108b3576108b3610871565b604051601f8301601f19908116603f011681019082821181831017156108db576108db610871565b816040528381528660208588010111156108f457600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561092957600080fd5b61093284610746565b9250602084013567ffffffffffffffff8082111561094f57600080fd5b61095b87838801610887565b9350604086013591508082111561097157600080fd5b5061097e86828701610887565b9150509250925092565b6000806040838503121561099b57600080fd5b6109a483610746565b91506109b260208401610746565b90509250929050565b600181811c908216806109cf57607f821691505b6020821081036109ef57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610a3f57600081815260208120601f850160051c81016020861015610a1c5750805b601f850160051c820191505b81811015610a3b57828155600101610a28565b5050505b505050565b815167ffffffffffffffff811115610a5e57610a5e610871565b610a7281610a6c84546109bb565b846109f5565b602080601f831160018114610aa75760008415610a8f5750858301515b600019600386901b1c1916600185901b178555610a3b565b600085815260208120601f198616915b82811015610ad657888601518255948401946001909101908401610ab7565b5085821015610af45787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b606081526000610b176060830186610784565b8281036020840152610b298186610784565b91505082604083015294935050505056fea26469706673582212202528b407ecd37da9efaa9079a20ffd601646acd64ef3b4123eaa873782234fb064736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
